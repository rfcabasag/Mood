{% extends 'base.html' %}

{% block title %} Mood. {% endblock %}

{% block content %}
<!-- fixed menu -->
<div class="ui fixed huge menu">
  <div class="ui container">
    <a href="#" class="header item">
      <div class="mood0">Mood</div>
    </a>
    <a href="#" class="item">Home</a>
    <div class="right menu">
      <a href="{% url 'logout' %}" class="item">Logout</a>
    </div>
  </div>
</div>

<div class="ui main text container">
  {% if mood %}
  <div class="ui container segment">
    <h1>Today, you have felt</h1>
    <div class="ui three cards">
    {% for m in mood %}
      <div class="card">
        <div class="content">
          <div class="header">{{m.mood}}</div>
          <div class="description">
            {{m.status}}
          </div>
        </div>
        <a onclick="openModal('{{m.id}}')">
          <div class="ui bottom attached button">
            <i class="close icon"></i>
            delete mood
          </div>
        </a>
      </div>
      <div id="{{m.id}}" class="modal">
        <div class="modal-content">
          <!-- <span class="close" onclick="closeModal('{{m.id}}')">&times;</span> -->
          <p>Are you sure you want to delete selected entry?</p>
          <div style="margin:20px 0px 30px 0px;">
            <div class="ui centered card">
              <div class="content">
                <div class="header">{{m.mood}}</div>
                <div class="description">
                  {{m.status}}
                </div>
              </div>
            </div>
          </div>
          <a class="ui button" onclick="closeModal('{{m.id}}')">no, go back</a>
          <a href="{{m.id}}/delete" class="ui button" id="pinkbtn">
            yes, delete it
          </a>
        </div>
      </div>
    {% endfor %}
    </div>
  </div>
  <div class="ui center aligned container segment">
    <p>Got more to add?</p>
    <a class="ui large button" id="pinkbtn" href = "{% url 'addmood' %}">input mood</a>
    <a class="ui large button" id="bluebtn" href = "/activity-menu">input activity</a>
  </div>
  {% else %}
  <div class="ui center aligned container segment">
    <p>You haven't registered anything for today.</p>
    <a class="ui large button" id="pinkbtn" href = "{% url 'addmood' %}">input mood</a>
    <a class="ui large button" id="bluebtn" href = "/activity-menu">input activity</a>
  </div>
  {% endif %}
</div>

<script>
  // When the user clicks the button, open the modal 
  function openModal(modalName) {
    document.getElementById(modalName).style.display = "block";
  }
  
  // When the user clicks on <span> (x), close the modal
  function closeModal(modalName) {
    document.getElementById(modalName).style.display = "none";
  }
</script>

{% endblock %}
